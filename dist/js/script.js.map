{"version":3,"sources":["script.js"],"names":["_createClass","defineProperties","target","props","key","prop","configurable","value","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","addOnloadHandler","undefined","corsRequest","getElementsByClassName","main","setIframeHeight","setInnerText","template","BASE_URL","TOPICS_PATH","USERS_PATH","API_PATH","CSS_PATH","LIB_PATH","ItemRepository","this","itemContainer","load","userid","username","callback","_this","user","push","User","result","topics","forEach","topic","Topic","item","__class__","id","title","description","blankPrice","blank_price","price","likes","imageUrl","author","image_url","displayName","display_name","url","companyName","positions","company_name","method","request","XMLHttpRequest","open","XDomainRequest","onload","JSON","parse","response","status","error","send","oElm","strTagName","strClassName","arrElements","arrReturnElements","i","j","oElement","oRegExp","ref","all","getElementsByTagName","replace","RegExp","length","test","className","newFunction","window","addEventListener","attachEvent","iframe","iframeWin","contentWindow","contentDocument","parentWindow","document","body","height","documentElement","scrollHeight","element","text","textContent","innerText","widgets","doc","itemRepository","itemsBlock","results","width","widget","getAttribute","createElement","style","display","setAttribute","parentNode","appendChild","frames","write","close","getElementById","items","itemLink","itemElement","info","userImage","_name","job","end","button","priceIcon","bottom","liked","likedStar","likedCount","divider","_name2","setTimeout","$","carousel","interval"],"mappings":"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","file":"script.js","sourcesContent":["\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n(function () {\n\n  var addOnloadHandler = undefined,\n      corsRequest = undefined,\n      getElementsByClassName = undefined,\n      main = undefined,\n      setIframeHeight = undefined,\n      setInnerText = undefined,\n      template = undefined;\n\n  var BASE_URL = \"https://service.visasq.com/\";\n  var TOPICS_PATH = \"topics\";\n  var USERS_PATH = \"users\";\n  var API_PATH = \"api/v3/\";\n  var CSS_PATH = \"https://rawgithub.com/visasq/visasq-widget/master/dist/css/styles.css\";\n  var LIB_PATH = \"https://rawgithub.com/visasq/visasq-widget/master/dist/js/lib.js\";\n  template = \"\\n<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n<meta charset=\\\"utf-8\\\" />\\n<link rel=\\\"stylesheet\\\" href=\\\"\" + CSS_PATH + \"\\\">\\n<link rel=\\\"stylesheet\\\" href=\\\"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\\\">\\n<script async src=\\\"\" + LIB_PATH + \"\\\"></script>\\n</head>\\n<body>\\n\\n<div class=\\\"card--widget\\\">\\n  <div id=\\\"carousel\\\" class=\\\"carousel slide carousel-fade\\\">\\n    <div class=\\\"card--header\\\">\\n      <a class=\\\"carousel-control left\\\" href=\\\"#carousel\\\" data-slide=\\\"prev\\\"><i class=\\\"fa fa-angle-left\\\"></i></a>\\n      <a href=\\\"https://service.visasq.com/\\\" target=\\\"_blank\\\"><img src=\\\"https://rawgithub.com/visasq/visasq-widget/master/assets/img/logo.png\\\" /></a>\\n      <a class=\\\"carousel-control right\\\" href=\\\"#carousel\\\" data-slide=\\\"next\\\"><i class=\\\"fa fa-angle-right\\\"></i></a>\\n    </div>\\n    <ol id=\\\"indicators\\\" class=\\\"carousel-indicators\\\"></ol>\\n    <!-- Carousel items -->\\n    <div class=\\\"items carousel-inner\\\" id=\\\"items\\\"></div>\\n  </div>\\n</div>\\n\\n</body>\\n</html>\\n\";\n\n  var ItemRepository = (function () {\n    function ItemRepository() {\n      _classCallCheck(this, ItemRepository);\n\n      this.itemContainer = {};\n    }\n\n    _createClass(ItemRepository, {\n      load: {\n        value: function load(userid, username, callback) {\n          var _this = this;\n\n          if (username in this.itemContainer) {\n            callback(this.itemContainer[username]);\n            return;\n          }\n\n          return corsRequest(\"\" + BASE_URL + \"\" + API_PATH + \"\" + USERS_PATH + \"/\" + userid, function (user) {\n            _this.itemContainer[username] = [];\n            _this.itemContainer[username].push(new User(user.result));\n            return corsRequest(\"\" + BASE_URL + \"\" + API_PATH + \"\" + USERS_PATH + \"/\" + userid + \"/\" + TOPICS_PATH, function (topics) {\n              topics.forEach(function (topic) {\n                _this.itemContainer[username].push(new Topic(topic));\n              });\n              return callback(_this.itemContainer[username]);\n            });\n          });\n        }\n      }\n    });\n\n    return ItemRepository;\n  })();\n\n  var Topic = function Topic(item) {\n    _classCallCheck(this, Topic);\n\n    this.__class__ = \"Topic\";\n    var id = item.id;\n    this.title = item.title;\n    this.description = item.description;\n    this.blankPrice = item.blank_price;\n    this.price = item.price;\n    this.likes = item.likes;\n    this.imageUrl = item.author.image_url;\n    this.displayName = item.author.display_name;\n    this.url = \"\" + BASE_URL + \"\" + TOPICS_PATH + \"/\" + id;\n  };\n\n  var User = function User(item) {\n    _classCallCheck(this, User);\n\n    this.__class__ = \"User\";\n    var id = item.id;\n    this.description = item.description;\n    this.imageUrl = item.image_url;\n    this.displayName = item.display_name;\n    this.companyName = item.positions[0].company_name;\n    this.title = item.positions[0].title;\n    this.url = \"\" + BASE_URL + \"\" + USERS_PATH + \"/\" + id;\n  };\n\n  corsRequest = function (url, callback) {\n    var method = undefined,\n        request = undefined;\n    method = \"get\";\n    request = new XMLHttpRequest();\n    if (\"withCredentials\" in request) {\n      request.open(method, url, true);\n    } else if (typeof XDomainRequest !== \"undefined\") {\n      request = new XDomainRequest();\n      request.open(method, url);\n    } else {\n      throw \"Failed to initialize CORSRequest\";\n    }\n    request.onload = function (result) {\n      var result = undefined;\n      result = JSON.parse(request.response);\n      if (request.status < 200 || 300 <= request.status) {\n        throw result.error;\n      }\n      return callback(result);\n    };\n    return request.send();\n  };\n\n  getElementsByClassName = function (oElm, strTagName, strClassName) {\n    var arrElements = undefined,\n        arrReturnElements = undefined,\n        i = undefined,\n        j = undefined,\n        oElement = undefined,\n        oRegExp = undefined,\n        ref = undefined;\n    if (strTagName === \"*\" && oElm.all) {\n      arrElements = oElm.all;\n    } else {\n      arrElements = oElm.getElementsByTagName(strTagName);\n    }\n    arrReturnElements = [];\n    strClassName = strClassName.replace(/\\-/g, \"\\\\-\");\n    oRegExp = new RegExp(\"(^|\\\\s)\" + strClassName + \"(\\\\s|$)\");\n    oElement;\n    for (i = j = 0, ref = arrElements.length; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {\n      oElement = arrElements[i];\n      if (oElement && oRegExp.test(oElement.className)) {\n        arrReturnElements.push(oElement);\n      }\n    }\n    return arrReturnElements;\n  };\n\n  addOnloadHandler = function (newFunction) {\n    if (window.addEventListener) {\n      return window.addEventListener(\"load\", newFunction, false);\n    } else if (window.attachEvent) {\n      return window.attachEvent(\"onload\", newFunction);\n    }\n  };\n\n  setIframeHeight = function (iframe) {\n    var iframeWin = undefined;\n    if (iframe) {\n      iframeWin = iframe.contentWindow || iframe.contentDocument.parentWindow;\n      if (iframeWin.document.body) {\n        return iframe.height = iframeWin.document.documentElement.scrollHeight || iframeWin.document.body.scrollHeight;\n      }\n    }\n  };\n\n  setInnerText = function (element, text) {\n    if (typeof element.textContent !== \"undefined\") {\n      return element.textContent = text;\n    } else {\n      return element.innerText = text;\n    }\n  };\n\n  main = function () {\n    var widgets = undefined;\n    widgets = getElementsByClassName(document, \"a\", \"visasq-cards\");\n    return addOnloadHandler(function () {\n      var doc = undefined,\n          iframe = undefined,\n          itemRepository = undefined,\n          itemsBlock = undefined,\n          results = undefined,\n          userid = undefined,\n          username = undefined,\n          width = undefined,\n          widget = undefined;\n      results = [];\n\n      widgets.forEach(function (widget) {\n\n        username = widget.getAttribute(\"data-visasq-username\");\n        userid = widget.getAttribute(\"data-visasq-userid\");\n        width = widget.getAttribute(\"width\");\n        iframe = document.createElement(\"iframe\");\n        iframe.style.display = \"none\";\n        iframe.setAttribute(\"frameBorder\", \"0\");\n        iframe.style.width = width;\n        widget.parentNode.appendChild(iframe);\n        widget.style.display = \"none\";\n        doc = frames[frames.length - 1].document;\n        doc.open();\n        doc.write(template);\n        doc.close();\n        itemsBlock = doc.getElementById(\"items\");\n        itemRepository = new ItemRepository();\n\n        results.push(itemRepository.load(userid, username, function (items) {\n          var item = undefined,\n              itemType = undefined,\n              id = undefined,\n              itemLink = undefined,\n              url = undefined,\n              itemElement = undefined,\n              logo = undefined,\n              info = undefined;\n\n          items.forEach(function (item) {\n\n            itemLink = document.createElement(\"a\");\n            itemLink.setAttribute(\"target\", \"_blank\");\n            itemLink.setAttribute(\"href\", item.url);\n            itemsBlock.appendChild(itemLink);\n\n            itemElement = document.createElement(\"div\");\n            itemLink.appendChild(itemElement);\n\n            info = document.createElement(\"div\");\n            info.setAttribute(\"class\", \"info\");\n            itemElement.appendChild(info);\n\n            if (item.__class__ === \"User\") {\n\n              itemLink.setAttribute(\"class\", \"item active card--user--widget\");\n\n              var imageUrl = item.imageUrl,\n                  userImage = undefined,\n                  text = undefined,\n                  _name = undefined,\n                  job = undefined,\n                  companyName = undefined,\n                  title = undefined,\n                  description = undefined,\n                  end = undefined,\n                  button = undefined;\n\n              userImage = document.createElement(\"div\");\n              userImage.setAttribute(\"class\", \"user-img--s\");\n              userImage.setAttribute(\"style\", \"background-image:url(\\\"\" + imageUrl + \"\\\")\");\n              info.appendChild(userImage);\n\n              text = document.createElement(\"div\");\n              text.setAttribute(\"class\", \"text\");\n              info.appendChild(text);\n\n              _name = document.createElement(\"h4\");\n              setInnerText(_name, item.displayName);\n              _name.setAttribute(\"class\", \"title\");\n              text.appendChild(_name);\n\n              job = document.createElement(\"p\");\n              job.setAttribute(\"class\", \"job\");\n              text.appendChild(job);\n\n              companyName = document.createElement(\"span\");\n              setInnerText(companyName, item.companyName);\n              job.appendChild(companyName);\n\n              title = document.createElement(\"span\");\n              setInnerText(title, item.title);\n              job.appendChild(title);\n\n              description = document.createElement(\"p\");\n              setInnerText(description, item.description);\n              description.setAttribute(\"class\", \"descript\");\n              text.appendChild(description);\n\n              end = document.createElement(\"div\");\n              end.setAttribute(\"class\", \"end\");\n              itemElement.appendChild(end);\n\n              button = document.createElement(\"a\");\n              button.setAttribute(\"class\", \"button_blue\");\n              setInnerText(button, \"ビザスクで相談\");\n              end.appendChild(button);\n            } else if (item.__class__ === \"Topic\") {\n\n              var imageUrl = item.imageUrl,\n                  text = undefined,\n                  title = undefined,\n                  description = undefined,\n                  price = undefined,\n                  priceIcon = undefined,\n                  bottom = undefined,\n                  liked = undefined,\n                  likedStar = undefined,\n                  likedCount = undefined,\n                  divider = undefined,\n                  userImage = undefined,\n                  _name2 = undefined,\n                  end = undefined,\n                  button = undefined;\n\n              itemLink.setAttribute(\"class\", \"item card--topic--widget\");\n\n              text = document.createElement(\"div\");\n              text.setAttribute(\"class\", \"text\");\n              info.appendChild(text);\n\n              title = document.createElement(\"h4\");\n              setInnerText(title, item.title);\n              title.setAttribute(\"class\", \"title\");\n              text.appendChild(title);\n\n              description = document.createElement(\"p\");\n              setInnerText(description, item.description);\n              description.setAttribute(\"class\", \"descript\");\n              text.appendChild(description);\n\n              priceIcon = document.createElement(\"img\");\n              priceIcon.setAttribute(\"src\", \"https://rawgithub.com/visasq/visasq-widget/master/assets/img/yen.png\");\n              priceIcon.setAttribute(\"class\", \"price-icon\");\n              info.appendChild(priceIcon);\n\n              price = document.createElement(\"span\");\n              price.setAttribute(\"class\", \"price\");\n              if (item.blankPrice) {\n                setInnerText(price, \"問い合わせ\");\n              } else {\n                setInnerText(price, item.price + \" 〜\");\n              }\n              price.setAttribute(\"class\", \"price\");\n              info.appendChild(price);\n\n              bottom = document.createElement(\"div\");\n              bottom.setAttribute(\"class\", \"bottom\");\n              itemElement.appendChild(bottom);\n\n              liked = document.createElement(\"div\");\n              liked.setAttribute(\"class\", \"liked\");\n              bottom.appendChild(liked);\n\n              likedStar = document.createElement(\"div\");\n              likedStar.setAttribute(\"class\", \"fa fa-star\");\n              liked.appendChild(likedStar);\n\n              likedCount = document.createElement(\"div\");\n              likedCount.setAttribute(\"class\", \"like_count\");\n              setInnerText(likedCount, item.likes);\n              liked.appendChild(likedCount);\n\n              divider = document.createElement(\"div\");\n              divider.setAttribute(\"class\", \"divider user\");\n              bottom.appendChild(divider);\n\n              userImage = document.createElement(\"div\");\n              userImage.setAttribute(\"class\", \"user-img--min\");\n              userImage.setAttribute(\"style\", \"background-image:url(\\\"\" + imageUrl + \"\\\")\");\n              bottom.appendChild(userImage);\n\n              _name2 = document.createElement(\"div\");\n              setInnerText(_name2, item.displayName);\n              _name2.setAttribute(\"class\", \"name\");\n              itemElement.appendChild(_name2);\n\n              end = document.createElement(\"div\");\n              end.setAttribute(\"class\", \"end\");\n              itemElement.appendChild(end);\n\n              button = document.createElement(\"a\");\n              button.setAttribute(\"class\", \"button_blue\");\n              setInnerText(button, \"ビザスクで相談\");\n              end.appendChild(button);\n            }\n          });\n\n          iframe.style.display = \"block\";\n\n          setTimeout(function () {\n\n            setIframeHeight(iframe);\n            $(\".carousel\", doc.body).carousel({\n              interval: 3000\n            });\n          }, 50);\n        }));\n      });\n\n      return results;\n    });\n  };\n\n  main();\n})();"],"sourceRoot":"/source/"}
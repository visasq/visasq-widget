{"version":3,"sources":["script.js"],"names":["_createClass","defineProperties","target","props","key","prop","configurable","value","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","addOnloadHandler","undefined","corsRequest","getElementsByClassName","main","setIframeHeight","setInnerText","template","BASE_URL","TOPICS_PATH","USERS_PATH","API_PATH","CSS_PATH","LIB_PATH","ItemRepository","this","itemContainer","load","userid","username","callback","_this","user","push","User","result","topics","forEach","topic","Topic","item","__class__","id","title","description","blankPrice","blank_price","price","likes","imageUrl","author","image_url","displayName","display_name","url","companyName","positions","company_name","method","request","XMLHttpRequest","open","XDomainRequest","onload","JSON","parse","response","status","error","send","oElm","strTagName","strClassName","arrElements","arrReturnElements","i","j","oElement","oRegExp","ref","all","getElementsByTagName","replace","RegExp","length","test","className","newFunction","window","addEventListener","attachEvent","iframe","iframeWin","contentWindow","contentDocument","parentWindow","document","body","height","documentElement","scrollHeight","element","text","textContent","innerText","widgets","doc","itemRepository","itemsBlock","results","header","width","color","widget","getAttribute","createElement","style","display","setAttribute","parentNode","appendChild","frames","write","close","getElementById","background","items","itemLink","itemElement","info","userImage","_name","job","end","button","priceIcon","bottom","liked","likedStar","likedCount","divider","_name2","setTimeout","$","carousel","interval","ready"],"mappings":"AAAA,YAEA,IAAIA,cAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,KAAOD,GAAO,CAAE,GAAIE,GAAOF,EAAMC,EAAMC,GAAKC,cAAe,EAAUD,EAAKE,QAAOF,EAAKG,UAAW,GAAQC,OAAOR,iBAAiBC,EAAQC,GAAU,MAAO,UAAUO,EAAaC,EAAYC,GAAiJ,MAA9HD,IAAYV,EAAiBS,EAAYG,UAAWF,GAAiBC,GAAaX,EAAiBS,EAAaE,GAAqBF,MAEvaI,gBAAkB,SAAUC,EAAUL,GAAe,KAAMK,YAAoBL,IAAgB,KAAM,IAAIM,WAAU,uCAEvH,WAEE,GAAIC,GAAmBC,OACnBC,EAAcD,OACdE,EAAyBF,OACzBG,EAAOH,OACPI,EAAkBJ,OAClBK,EAAeL,OACfM,EAAWN,OAEXO,EAAW,8BACXC,EAAc,SACdC,EAAa,QACbC,EAAW,UACXC,EAAW,wEACXC,EAAW,kEACfN,GAAW,uGAAgHK,EAAW,0MAAsNC,EAAW,2sBAEvW,IAAIC,GAAiB,WACnB,QAASA,KACPjB,gBAAgBkB,KAAMD,GAEtBC,KAAKC,iBA2BP,MAxBAjC,cAAa+B,GACXG,MACE3B,MAAO,SAAc4B,EAAQC,EAAUC,GACrC,GAAIC,GAAQN,IAEZ,OAAII,KAAYJ,MAAKC,kBACnBI,GAASL,KAAKC,cAAcG,IAIvBjB,EAAY,GAAKM,EAAgBG,EAAgBD,EAAa,IAAMQ,EAAQ,SAAUI,GAG3F,MAFAD,GAAML,cAAcG,MACpBE,EAAML,cAAcG,GAAUI,KAAK,GAAIC,GAAKF,EAAKG,SAC1CvB,EAAY,GAAKM,EAAgBG,EAAgBD,EAAa,IAAMQ,EAAS,IAAMT,EAAa,SAAUiB,GAI/G,MAHAA,GAAOC,QAAQ,SAAUC,GACvBP,EAAML,cAAcG,GAAUI,KAAK,GAAIM,GAAMD,MAExCR,EAASC,EAAML,cAAcG,YAOvCL,KAGLe,EAAQ,QAASA,GAAMC,GACzBjC,gBAAgBkB,KAAMc,GAEtBd,KAAKgB,UAAY,OACjB,IAAIC,GAAKF,EAAKE,EACdjB,MAAKkB,MAAQH,EAAKG,MAClBlB,KAAKmB,YAAcJ,EAAKI,YACxBnB,KAAKoB,WAAaL,EAAKM,YACvBrB,KAAKsB,MAAQP,EAAKO,MAClBtB,KAAKuB,MAAQR,EAAKQ,MAClBvB,KAAKwB,SAAWT,EAAKU,OAAOC,UAC5B1B,KAAK2B,YAAcZ,EAAKU,OAAOG,aAC/B5B,KAAK6B,IAAM,GAAKpC,EAAgBC,EAAc,IAAMuB,GAGlDR,EAAO,QAASA,GAAKM,GACvBjC,gBAAgBkB,KAAMS,GAEtBT,KAAKgB,UAAY,MACjB,IAAIC,GAAKF,EAAKE,EACdjB,MAAKmB,YAAcJ,EAAKI,YACxBnB,KAAKwB,SAAWT,EAAKW,UACrB1B,KAAK2B,YAAcZ,EAAKa,aACxB5B,KAAK8B,YAAcf,EAAKgB,UAAU,GAAGC,aACrChC,KAAKkB,MAAQH,EAAKgB,UAAU,GAAGb,MAC/BlB,KAAK6B,IAAM,GAAKpC,EAAgBE,EAAa,IAAMsB,EAGrD9B,GAAc,SAAU0C,EAAKxB,GAC3B,GAAI4B,GAAS/C,OACTgD,EAAUhD,MAGd,IAFA+C,EAAS,MACTC,EAAU,GAAIC,gBACV,mBAAqBD,GACvBA,EAAQE,KAAKH,EAAQJ,GAAK,OACrB,CAAA,GAA8B,mBAAnBQ,gBAIhB,KAAM,kCAHNH,GAAU,GAAIG,gBACdH,EAAQE,KAAKH,EAAQJ,GAYvB,MARAK,GAAQI,OAAS,SAAU5B,GACzB,GAAIA,GAASxB,MAEb,IADAwB,EAAS6B,KAAKC,MAAMN,EAAQO,UACxBP,EAAQQ,OAAS,KAAO,KAAOR,EAAQQ,OACzC,KAAMhC,GAAOiC,KAEf,OAAOtC,GAASK,IAEXwB,EAAQU,QAGjBxD,EAAyB,SAAUyD,EAAMC,EAAYC,GACnD,GAAIC,GAAc9D,OACd+D,EAAoB/D,OACpBgE,EAAIhE,OACJiE,EAAIjE,OACJkE,EAAWlE,OACXmE,EAAUnE,OACVoE,EAAMpE,MAUV,KARE8D,EADiB,MAAfF,GAAsBD,EAAKU,IACfV,EAAKU,IAELV,EAAKW,qBAAqBV,GAE1CG,KACAF,EAAeA,EAAaU,QAAQ,MAAO,OAC3CJ,EAAU,GAAIK,QAAO,UAAYX,EAAe,WAE3CG,EAAIC,EAAI,EAAGG,EAAMN,EAAYW,OAAaL,GAAL,EAAgBA,GAALH,EAAWA,GAAKG,EAAKJ,EAASI,GAAL,IAAaH,IAAMA,EAC/FC,EAAWJ,EAAYE,GACnBE,GAAYC,EAAQO,KAAKR,EAASS,YACpCZ,EAAkBzC,KAAK4C,EAG3B,OAAOH,IAGThE,EAAmB,SAAU6E,GAC3B,MAAIC,QAAOC,iBACFD,OAAOC,iBAAiB,OAAQF,GAAa,GAC3CC,OAAOE,YACTF,OAAOE,YAAY,SAAUH,GAD/B,QAKTxE,EAAkB,SAAU4E,GAC1B,GAAIC,GAAYjF,MAChB,OAAIgF,KACFC,EAAYD,EAAOE,eAAiBF,EAAOG,gBAAgBC,aACvDH,EAAUI,SAASC,MACdN,EAAOO,OAASN,EAAUI,SAASG,gBAAgBC,cAAgBR,EAAUI,SAASC,KAAKG,aAHtG,QAQFpF,EAAe,SAAUqF,EAASC,GAChC,MAAmC,mBAAxBD,GAAQE,YACVF,EAAQE,YAAcD,EAEtBD,EAAQG,UAAYF,GAI/BxF,EAAO,WACL,GAAI2F,GAAU9F,MACd8F,GAAU5F,EAAuBmF,SAAU,IAAK,gBAChD,WACE,GAAIU,GAAM/F,OACNgF,EAAShF,OACTgG,EAAiBhG,OACjBiG,EAAajG,OACbkG,EAAUlG,OACViB,EAASjB,OACTkB,EAAWlB,OACXmG,EAASnG,OACToG,EAAQpG,OACRqG,EAAQrG,MAiNZ,OA/MAkG,MAEAJ,EAAQpE,QAAQ,SAAU4E,GAExBpF,EAAWoF,EAAOC,aAAa,wBAC/BtF,EAASqF,EAAOC,aAAa,sBAC7BH,EAAQE,EAAOC,aAAa,SAC5BF,EAAQC,EAAOC,aAAa,SAC5BvB,EAASK,SAASmB,cAAc,UAChCxB,EAAOyB,MAAMC,QAAU,OACvB1B,EAAO2B,aAAa,cAAe,KACnC3B,EAAOyB,MAAML,MAAQA,EACrBE,EAAOM,WAAWC,YAAY7B,GAC9BsB,EAAOG,MAAMC,QAAU,OACvBX,EAAMe,OAAOA,OAAOrC,OAAS,GAAGY,SAChCU,EAAI7C,OACJ6C,EAAIgB,MAAMzG,GACVyF,EAAIiB,QACJf,EAAaF,EAAIkB,eAAe,SAChCjB,EAAiB,GAAInF,GAErBsF,EAASJ,EAAIkB,eAAe,UAC5Bd,EAAOM,MAAMS,WAAab,EAE1BH,EAAQ5E,KAAK0E,EAAehF,KAAKC,EAAQC,EAAU,SAAUiG,GAC3D,GAGIC,GAAWpH,OAEXqH,EAAcrH,OAEdsH,EAAOtH,MAEXmH,GAAMzF,QAAQ,SAAUG,GActB,GAZAuF,EAAW/B,SAASmB,cAAc,KAClCY,EAAST,aAAa,SAAU,UAChCS,EAAST,aAAa,OAAQ9E,EAAKc,KACnCsD,EAAWY,YAAYO,GAEvBC,EAAchC,SAASmB,cAAc,OACrCY,EAASP,YAAYQ,GAErBC,EAAOjC,SAASmB,cAAc,OAC9Bc,EAAKX,aAAa,QAAS,QAC3BU,EAAYR,YAAYS,GAED,SAAnBzF,EAAKC,UAAsB,CAE7BsF,EAAST,aAAa,QAAS,iCAE/B,IAAIrE,GAAWT,EAAKS,SAChBiF,EAAYvH,OACZ2F,EAAO3F,OACPwH,EAAQxH,OACRyH,EAAMzH,OACN4C,EAAc5C,OACdgC,EAAQhC,OACRiC,EAAcjC,OACd0H,EAAM1H,OACN2H,EAAS3H,MAEbuH,GAAYlC,SAASmB,cAAc,OACnCe,EAAUZ,aAAa,QAAS,eAChCY,EAAUZ,aAAa,QAAS,yBAA4BrE,EAAW,MACvEgF,EAAKT,YAAYU,GAEjB5B,EAAON,SAASmB,cAAc,OAC9Bb,EAAKgB,aAAa,QAAS,QAC3BW,EAAKT,YAAYlB,GAEjB6B,EAAQnC,SAASmB,cAAc,MAC/BnG,EAAamH,EAAO3F,EAAKY,aACzB+E,EAAMb,aAAa,QAAS,SAC5BhB,EAAKkB,YAAYW,GAEjBC,EAAMpC,SAASmB,cAAc,KAC7BiB,EAAId,aAAa,QAAS,OAC1BhB,EAAKkB,YAAYY,GAEjB7E,EAAcyC,SAASmB,cAAc,QACrCnG,EAAauC,EAAaf,EAAKe,aAC/B6E,EAAIZ,YAAYjE,GAEhBZ,EAAQqD,SAASmB,cAAc,QAC/BnG,EAAa2B,EAAOH,EAAKG,OACzByF,EAAIZ,YAAY7E,GAEhBC,EAAcoD,SAASmB,cAAc,KACrCnG,EAAa4B,EAAaJ,EAAKI,aAC/BA,EAAY0E,aAAa,QAAS,YAClChB,EAAKkB,YAAY5E,GAEjByF,EAAMrC,SAASmB,cAAc,OAC7BkB,EAAIf,aAAa,QAAS,OAC1BU,EAAYR,YAAYa,GAExBC,EAAStC,SAASmB,cAAc,KAChCmB,EAAOhB,aAAa,QAAS,UAC7BgB,EAAOlB,MAAMS,WAAab,EAC1BhG,EAAasH,EAAQ,WACrBD,EAAIb,YAAYc,OACX,IAAuB,UAAnB9F,EAAKC,UAAuB,CAErC,GAAIQ,GAAWT,EAAKS,SAChBqD,EAAO3F,OACPgC,EAAQhC,OACRiC,EAAcjC,OACdoC,EAAQpC,OACR4H,EAAY5H,OACZ6H,EAAS7H,OACT8H,EAAQ9H,OACR+H,EAAY/H,OACZgI,EAAahI,OACbiI,EAAUjI,OACVuH,EAAYvH,OACZkI,EAASlI,OACT0H,EAAM1H,OACN2H,EAAS3H,MAEboH,GAAST,aAAa,QAAS,4BAE/BhB,EAAON,SAASmB,cAAc,OAC9Bb,EAAKgB,aAAa,QAAS,QAC3BW,EAAKT,YAAYlB,GAEjB3D,EAAQqD,SAASmB,cAAc,MAC/BnG,EAAa2B,EAAOH,EAAKG,OACzBA,EAAM2E,aAAa,QAAS,SAC5BhB,EAAKkB,YAAY7E,GAEjBC,EAAcoD,SAASmB,cAAc,KACrCnG,EAAa4B,EAAaJ,EAAKI,aAC/BA,EAAY0E,aAAa,QAAS,YAClChB,EAAKkB,YAAY5E,GAEjB2F,EAAYvC,SAASmB,cAAc,OACnCoB,EAAUjB,aAAa,MAAO,wEAC9BiB,EAAUjB,aAAa,QAAS,cAChCW,EAAKT,YAAYe,GAEjBxF,EAAQiD,SAASmB,cAAc,QAC/BpE,EAAMuE,aAAa,QAAS,SACxB9E,EAAKK,WACP7B,EAAa+B,EAAO,SAEpB/B,EAAa+B,EAAOP,EAAKO,MAAQ,MAEnCA,EAAMuE,aAAa,QAAS,SAC5BW,EAAKT,YAAYzE,GAEjByF,EAASxC,SAASmB,cAAc,OAChCqB,EAAOlB,aAAa,QAAS,UAC7BU,EAAYR,YAAYgB,GAExBC,EAAQzC,SAASmB,cAAc,OAC/BsB,EAAMnB,aAAa,QAAS,SAC5BkB,EAAOhB,YAAYiB,GAEnBC,EAAY1C,SAASmB,cAAc,OACnCuB,EAAUpB,aAAa,QAAS,cAChCmB,EAAMjB,YAAYkB,GAElBC,EAAa3C,SAASmB,cAAc,OACpCwB,EAAWrB,aAAa,QAAS,cACjCtG,EAAa2H,EAAYnG,EAAKQ,OAC9ByF,EAAMjB,YAAYmB,GAElBC,EAAU5C,SAASmB,cAAc,OACjCyB,EAAQtB,aAAa,QAAS,gBAC9BkB,EAAOhB,YAAYoB,GAEnBV,EAAYlC,SAASmB,cAAc,OACnCe,EAAUZ,aAAa,QAAS,iBAChCY,EAAUZ,aAAa,QAAS,yBAA4BrE,EAAW,MACvEuF,EAAOhB,YAAYU,GAEnBW,EAAS7C,SAASmB,cAAc,OAChCnG,EAAa6H,EAAQrG,EAAKY,aAC1ByF,EAAOvB,aAAa,QAAS,QAC7BU,EAAYR,YAAYqB,GAExBR,EAAMrC,SAASmB,cAAc,OAC7BkB,EAAIf,aAAa,QAAS,OAC1BU,EAAYR,YAAYa,GAExBC,EAAStC,SAASmB,cAAc,KAChCmB,EAAOhB,aAAa,QAAS,UAC7BgB,EAAOlB,MAAMS,WAAab,EAC1BhG,EAAasH,EAAQ,WACrBD,EAAIb,YAAYc,MAIpB3C,EAAOyB,MAAMC,QAAU,QAEvByB,WAAW,WAET/H,EAAgB4E,GAChBoD,EAAE,YAAarC,EAAIT,MAAM+C,UACvBC,SAAU,OAEX,SAIApC,MAIXkC,EAAE/C,UAAUkD,MAAM,WAChBpI","file":"script.js","sourcesContent":["\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n(function () {\n\n  var addOnloadHandler = undefined,\n      corsRequest = undefined,\n      getElementsByClassName = undefined,\n      main = undefined,\n      setIframeHeight = undefined,\n      setInnerText = undefined,\n      template = undefined;\n\n  var BASE_URL = \"https://service.visasq.com/\";\n  var TOPICS_PATH = \"topics\";\n  var USERS_PATH = \"users\";\n  var API_PATH = \"api/v3/\";\n  var CSS_PATH = \"https://rawgithub.com/visasq/visasq-widget/master/dist/css/styles.css\";\n  var LIB_PATH = \"https://rawgithub.com/visasq/visasq-widget/master/dist/js/lib.js\";\n  template = \"\\n<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n<meta charset=\\\"utf-8\\\" />\\n<link rel=\\\"stylesheet\\\" href=\\\"\" + CSS_PATH + \"\\\">\\n<link rel=\\\"stylesheet\\\" href=\\\"http://localhost:9090/dist/css/styles.css\\\">\\n<link rel=\\\"stylesheet\\\" href=\\\"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\\\">\\n<script async src=\\\"\" + LIB_PATH + \"\\\"></script>\\n</head>\\n<body>\\n\\n<div class=\\\"card--widget\\\">\\n  <div id=\\\"carousel\\\" class=\\\"carousel slide carousel-fade\\\">\\n    <div id=\\\"header\\\">\\n      <a class=\\\"carousel-control left\\\" href=\\\"#carousel\\\" data-slide=\\\"prev\\\"><i class=\\\"fa fa-angle-left\\\"></i></a>\\n      <a href=\\\"https://service.visasq.com/\\\" target=\\\"_blank\\\"><img src=\\\"https://rawgithub.com/visasq/visasq-widget/master/assets/img/logo.png\\\" /></a>\\n      <a class=\\\"carousel-control right\\\" href=\\\"#carousel\\\" data-slide=\\\"next\\\"><i class=\\\"fa fa-angle-right\\\"></i></a>\\n    </div>\\n    <ol id=\\\"indicators\\\" class=\\\"carousel-indicators\\\"></ol>\\n    <!-- Carousel items -->\\n    <div class=\\\"items carousel-inner\\\" id=\\\"items\\\"></div>\\n  </div>\\n</div>\\n\\n</body>\\n</html>\\n\";\n\n  var ItemRepository = (function () {\n    function ItemRepository() {\n      _classCallCheck(this, ItemRepository);\n\n      this.itemContainer = {};\n    }\n\n    _createClass(ItemRepository, {\n      load: {\n        value: function load(userid, username, callback) {\n          var _this = this;\n\n          if (username in this.itemContainer) {\n            callback(this.itemContainer[username]);\n            return;\n          }\n\n          return corsRequest(\"\" + BASE_URL + \"\" + API_PATH + \"\" + USERS_PATH + \"/\" + userid, function (user) {\n            _this.itemContainer[username] = [];\n            _this.itemContainer[username].push(new User(user.result));\n            return corsRequest(\"\" + BASE_URL + \"\" + API_PATH + \"\" + USERS_PATH + \"/\" + userid + \"/\" + TOPICS_PATH, function (topics) {\n              topics.forEach(function (topic) {\n                _this.itemContainer[username].push(new Topic(topic));\n              });\n              return callback(_this.itemContainer[username]);\n            });\n          });\n        }\n      }\n    });\n\n    return ItemRepository;\n  })();\n\n  var Topic = function Topic(item) {\n    _classCallCheck(this, Topic);\n\n    this.__class__ = \"Topic\";\n    var id = item.id;\n    this.title = item.title;\n    this.description = item.description;\n    this.blankPrice = item.blank_price;\n    this.price = item.price;\n    this.likes = item.likes;\n    this.imageUrl = item.author.image_url;\n    this.displayName = item.author.display_name;\n    this.url = \"\" + BASE_URL + \"\" + TOPICS_PATH + \"/\" + id;\n  };\n\n  var User = function User(item) {\n    _classCallCheck(this, User);\n\n    this.__class__ = \"User\";\n    var id = item.id;\n    this.description = item.description;\n    this.imageUrl = item.image_url;\n    this.displayName = item.display_name;\n    this.companyName = item.positions[0].company_name;\n    this.title = item.positions[0].title;\n    this.url = \"\" + BASE_URL + \"\" + USERS_PATH + \"/\" + id;\n  };\n\n  corsRequest = function (url, callback) {\n    var method = undefined,\n        request = undefined;\n    method = \"get\";\n    request = new XMLHttpRequest();\n    if (\"withCredentials\" in request) {\n      request.open(method, url, true);\n    } else if (typeof XDomainRequest !== \"undefined\") {\n      request = new XDomainRequest();\n      request.open(method, url);\n    } else {\n      throw \"Failed to initialize CORSRequest\";\n    }\n    request.onload = function (result) {\n      var result = undefined;\n      result = JSON.parse(request.response);\n      if (request.status < 200 || 300 <= request.status) {\n        throw result.error;\n      }\n      return callback(result);\n    };\n    return request.send();\n  };\n\n  getElementsByClassName = function (oElm, strTagName, strClassName) {\n    var arrElements = undefined,\n        arrReturnElements = undefined,\n        i = undefined,\n        j = undefined,\n        oElement = undefined,\n        oRegExp = undefined,\n        ref = undefined;\n    if (strTagName === \"*\" && oElm.all) {\n      arrElements = oElm.all;\n    } else {\n      arrElements = oElm.getElementsByTagName(strTagName);\n    }\n    arrReturnElements = [];\n    strClassName = strClassName.replace(/\\-/g, \"\\\\-\");\n    oRegExp = new RegExp(\"(^|\\\\s)\" + strClassName + \"(\\\\s|$)\");\n    oElement;\n    for (i = j = 0, ref = arrElements.length; 0 <= ref ? j <= ref : j >= ref; i = 0 <= ref ? ++j : --j) {\n      oElement = arrElements[i];\n      if (oElement && oRegExp.test(oElement.className)) {\n        arrReturnElements.push(oElement);\n      }\n    }\n    return arrReturnElements;\n  };\n\n  addOnloadHandler = function (newFunction) {\n    if (window.addEventListener) {\n      return window.addEventListener(\"load\", newFunction, false);\n    } else if (window.attachEvent) {\n      return window.attachEvent(\"onload\", newFunction);\n    }\n  };\n\n  setIframeHeight = function (iframe) {\n    var iframeWin = undefined;\n    if (iframe) {\n      iframeWin = iframe.contentWindow || iframe.contentDocument.parentWindow;\n      if (iframeWin.document.body) {\n        return iframe.height = iframeWin.document.documentElement.scrollHeight || iframeWin.document.body.scrollHeight;\n      }\n    }\n  };\n\n  setInnerText = function (element, text) {\n    if (typeof element.textContent !== \"undefined\") {\n      return element.textContent = text;\n    } else {\n      return element.innerText = text;\n    }\n  };\n\n  main = function () {\n    var widgets = undefined;\n    widgets = getElementsByClassName(document, \"a\", \"visasq-cards\");\n    (function () {\n      var doc = undefined,\n          iframe = undefined,\n          itemRepository = undefined,\n          itemsBlock = undefined,\n          results = undefined,\n          userid = undefined,\n          username = undefined,\n          header = undefined,\n          width = undefined,\n          color = undefined,\n          widget = undefined;\n      results = [];\n\n      widgets.forEach(function (widget) {\n\n        username = widget.getAttribute(\"data-visasq-username\");\n        userid = widget.getAttribute(\"data-visasq-userid\");\n        width = widget.getAttribute(\"width\");\n        color = widget.getAttribute(\"color\");\n        iframe = document.createElement(\"iframe\");\n        iframe.style.display = \"none\";\n        iframe.setAttribute(\"frameBorder\", \"0\");\n        iframe.style.width = width;\n        widget.parentNode.appendChild(iframe);\n        widget.style.display = \"none\";\n        doc = frames[frames.length - 1].document;\n        doc.open();\n        doc.write(template);\n        doc.close();\n        itemsBlock = doc.getElementById(\"items\");\n        itemRepository = new ItemRepository();\n\n        header = doc.getElementById(\"header\");\n        header.style.background = color;\n\n        results.push(itemRepository.load(userid, username, function (items) {\n          var item = undefined,\n              itemType = undefined,\n              id = undefined,\n              itemLink = undefined,\n              url = undefined,\n              itemElement = undefined,\n              logo = undefined,\n              info = undefined;\n\n          items.forEach(function (item) {\n\n            itemLink = document.createElement(\"a\");\n            itemLink.setAttribute(\"target\", \"_blank\");\n            itemLink.setAttribute(\"href\", item.url);\n            itemsBlock.appendChild(itemLink);\n\n            itemElement = document.createElement(\"div\");\n            itemLink.appendChild(itemElement);\n\n            info = document.createElement(\"div\");\n            info.setAttribute(\"class\", \"info\");\n            itemElement.appendChild(info);\n\n            if (item.__class__ === \"User\") {\n\n              itemLink.setAttribute(\"class\", \"item active card--user--widget\");\n\n              var imageUrl = item.imageUrl,\n                  userImage = undefined,\n                  text = undefined,\n                  _name = undefined,\n                  job = undefined,\n                  companyName = undefined,\n                  title = undefined,\n                  description = undefined,\n                  end = undefined,\n                  button = undefined;\n\n              userImage = document.createElement(\"div\");\n              userImage.setAttribute(\"class\", \"user-img--s\");\n              userImage.setAttribute(\"style\", \"background-image:url(\\\"\" + imageUrl + \"\\\")\");\n              info.appendChild(userImage);\n\n              text = document.createElement(\"div\");\n              text.setAttribute(\"class\", \"text\");\n              info.appendChild(text);\n\n              _name = document.createElement(\"h4\");\n              setInnerText(_name, item.displayName);\n              _name.setAttribute(\"class\", \"title\");\n              text.appendChild(_name);\n\n              job = document.createElement(\"p\");\n              job.setAttribute(\"class\", \"job\");\n              text.appendChild(job);\n\n              companyName = document.createElement(\"span\");\n              setInnerText(companyName, item.companyName);\n              job.appendChild(companyName);\n\n              title = document.createElement(\"span\");\n              setInnerText(title, item.title);\n              job.appendChild(title);\n\n              description = document.createElement(\"p\");\n              setInnerText(description, item.description);\n              description.setAttribute(\"class\", \"descript\");\n              text.appendChild(description);\n\n              end = document.createElement(\"div\");\n              end.setAttribute(\"class\", \"end\");\n              itemElement.appendChild(end);\n\n              button = document.createElement(\"a\");\n              button.setAttribute(\"class\", \"button\");\n              button.style.background = color;\n              setInnerText(button, \"ビザスクで相談\");\n              end.appendChild(button);\n            } else if (item.__class__ === \"Topic\") {\n\n              var imageUrl = item.imageUrl,\n                  text = undefined,\n                  title = undefined,\n                  description = undefined,\n                  price = undefined,\n                  priceIcon = undefined,\n                  bottom = undefined,\n                  liked = undefined,\n                  likedStar = undefined,\n                  likedCount = undefined,\n                  divider = undefined,\n                  userImage = undefined,\n                  _name2 = undefined,\n                  end = undefined,\n                  button = undefined;\n\n              itemLink.setAttribute(\"class\", \"item card--topic--widget\");\n\n              text = document.createElement(\"div\");\n              text.setAttribute(\"class\", \"text\");\n              info.appendChild(text);\n\n              title = document.createElement(\"h4\");\n              setInnerText(title, item.title);\n              title.setAttribute(\"class\", \"title\");\n              text.appendChild(title);\n\n              description = document.createElement(\"p\");\n              setInnerText(description, item.description);\n              description.setAttribute(\"class\", \"descript\");\n              text.appendChild(description);\n\n              priceIcon = document.createElement(\"img\");\n              priceIcon.setAttribute(\"src\", \"https://rawgithub.com/visasq/visasq-widget/master/assets/img/yen.png\");\n              priceIcon.setAttribute(\"class\", \"price-icon\");\n              info.appendChild(priceIcon);\n\n              price = document.createElement(\"span\");\n              price.setAttribute(\"class\", \"price\");\n              if (item.blankPrice) {\n                setInnerText(price, \"問い合わせ\");\n              } else {\n                setInnerText(price, item.price + \" 〜\");\n              }\n              price.setAttribute(\"class\", \"price\");\n              info.appendChild(price);\n\n              bottom = document.createElement(\"div\");\n              bottom.setAttribute(\"class\", \"bottom\");\n              itemElement.appendChild(bottom);\n\n              liked = document.createElement(\"div\");\n              liked.setAttribute(\"class\", \"liked\");\n              bottom.appendChild(liked);\n\n              likedStar = document.createElement(\"div\");\n              likedStar.setAttribute(\"class\", \"fa fa-star\");\n              liked.appendChild(likedStar);\n\n              likedCount = document.createElement(\"div\");\n              likedCount.setAttribute(\"class\", \"like_count\");\n              setInnerText(likedCount, item.likes);\n              liked.appendChild(likedCount);\n\n              divider = document.createElement(\"div\");\n              divider.setAttribute(\"class\", \"divider user\");\n              bottom.appendChild(divider);\n\n              userImage = document.createElement(\"div\");\n              userImage.setAttribute(\"class\", \"user-img--min\");\n              userImage.setAttribute(\"style\", \"background-image:url(\\\"\" + imageUrl + \"\\\")\");\n              bottom.appendChild(userImage);\n\n              _name2 = document.createElement(\"div\");\n              setInnerText(_name2, item.displayName);\n              _name2.setAttribute(\"class\", \"name\");\n              itemElement.appendChild(_name2);\n\n              end = document.createElement(\"div\");\n              end.setAttribute(\"class\", \"end\");\n              itemElement.appendChild(end);\n\n              button = document.createElement(\"a\");\n              button.setAttribute(\"class\", \"button\");\n              button.style.background = color;\n              setInnerText(button, \"ビザスクで相談\");\n              end.appendChild(button);\n            }\n          });\n\n          iframe.style.display = \"block\";\n\n          setTimeout(function () {\n\n            setIframeHeight(iframe);\n            $(\".carousel\", doc.body).carousel({\n              interval: 3000\n            });\n          }, 50);\n        }));\n      });\n\n      return results;\n    })();\n  };\n\n  $(document).ready(function () {\n    main();\n  });\n})();"],"sourceRoot":"/source/"}
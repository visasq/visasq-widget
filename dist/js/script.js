"use strict";var _createClass=function(){function e(e,t){for(var i in t){var s=t[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(e,t)}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),_classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};!function(){var e=void 0,t=void 0,i=void 0,s=void 0,n=void 0,a=void 0,d=void 0,r="https://service.visasq.com/",o="topics",c="users",l="api/v3/",u="https://rawgithub.com/visasq/visasq-widget/master/dist/css/styles.css",m="https://rawgithub.com/visasq/visasq-widget/master/dist/js/lib.js";d='\n<!DOCTYPE html>\n<html lang="ja">\n<head>\n<meta charset="utf-8" />\n<link rel="stylesheet" href="'+u+'">\n<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">\n<script async src="'+m+'"></script>\n</head>\n<body>\n\n<div class="card--widget">\n  <div id="carousel" class="carousel slide carousel-fade">\n    <div class="card--header">\n      <a class="carousel-control left" href="#carousel" data-slide="prev"><i class="fa fa-angle-left"></i></a>\n      <a href="https://service.visasq.com/" target="_blank"><img src="https://rawgithub.com/visasq/visasq-widget/master/assets/img/logo.png" /></a>\n      <a class="carousel-control right" href="#carousel" data-slide="next"><i class="fa fa-angle-right"></i></a>\n    </div>\n    <ol id="indicators" class="carousel-indicators"></ol>\n    <!-- Carousel items -->\n    <div class="items carousel-inner" id="items"></div>\n  </div>\n</div>\n\n</body>\n</html>\n';var p=function(){function e(){_classCallCheck(this,e),this.itemContainer={}}return _createClass(e,{load:{value:function(e,i,s){var n=this;return i in this.itemContainer?void s(this.itemContainer[i]):t(""+r+l+c+"/"+e,function(a){return n.itemContainer[i]=[],n.itemContainer[i].push(new h(a.result)),t(""+r+l+c+"/"+e+"/"+o,function(e){return e.forEach(function(e){n.itemContainer[i].push(new v(e))}),s(n.itemContainer[i])})})}}}),e}(),v=function f(e){_classCallCheck(this,f),this.__class__="Topic";var t=e.id;this.title=e.title,this.description=e.description,this.blankPrice=e.blank_price,this.price=e.price,this.likes=e.likes,this.imageUrl=e.author.image_url,this.displayName=e.author.display_name,this.url=""+r+o+"/"+t},h=function b(e){_classCallCheck(this,b),this.__class__="User";var t=e.id;this.description=e.description,this.imageUrl=e.image_url,this.displayName=e.display_name,this.companyName=e.positions[0].company_name,this.title=e.positions[0].title,this.url=""+r+c+"/"+t};t=function(e,t){var i=void 0,s=void 0;if(i="get",s=new XMLHttpRequest,"withCredentials"in s)s.open(i,e,!0);else{if("undefined"==typeof XDomainRequest)throw"Failed to initialize CORSRequest";s=new XDomainRequest,s.open(i,e)}return s.onload=function(e){var e=void 0;if(e=JSON.parse(s.response),s.status<200||300<=s.status)throw e.error;return t(e)},s.send()},i=function(e,t,i){var s=void 0,n=void 0,a=void 0,d=void 0,r=void 0,o=void 0,c=void 0;for(s="*"===t&&e.all?e.all:e.getElementsByTagName(t),n=[],i=i.replace(/\-/g,"\\-"),o=new RegExp("(^|\\s)"+i+"(\\s|$)"),a=d=0,c=s.length;c>=0?c>=d:d>=c;a=c>=0?++d:--d)r=s[a],r&&o.test(r.className)&&n.push(r);return n},e=function(e){return window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent?window.attachEvent("onload",e):void 0},n=function(e){var t=void 0;return e&&(t=e.contentWindow||e.contentDocument.parentWindow,t.document.body)?e.height=t.document.documentElement.scrollHeight||t.document.body.scrollHeight:void 0},a=function(e,t){return"undefined"!=typeof e.textContent?e.textContent=t:e.innerText=t},(s=function(){var t=void 0;return t=i(document,"a","visasq-cards"),e(function(){var e=void 0,i=void 0,s=void 0,r=void 0,o=void 0,c=void 0,l=void 0,u=void 0;return o=[],t.forEach(function(t){l=t.getAttribute("data-visasq-username"),c=t.getAttribute("data-visasq-userid"),u=t.getAttribute("width"),i=document.createElement("iframe"),i.style.display="none",i.setAttribute("frameBorder","0"),i.style.width=u,t.parentNode.appendChild(i),t.style.display="none",e=frames[frames.length-1].document,e.open(),e.write(d),e.close(),r=e.getElementById("items"),s=new p,o.push(s.load(c,l,function(t){var s=void 0,d=void 0,o=void 0;t.forEach(function(e){if(s=document.createElement("a"),s.setAttribute("target","_blank"),s.setAttribute("href",e.url),r.appendChild(s),d=document.createElement("div"),s.appendChild(d),o=document.createElement("div"),o.setAttribute("class","info"),d.appendChild(o),"User"===e.__class__){s.setAttribute("class","item active card--user--widget");var t=e.imageUrl,i=void 0,n=void 0,c=void 0,l=void 0,u=void 0,m=void 0,p=void 0,v=void 0,h=void 0;i=document.createElement("div"),i.setAttribute("class","user-img--s"),i.setAttribute("style",'background-image:url("'+t+'")'),o.appendChild(i),n=document.createElement("div"),n.setAttribute("class","text"),o.appendChild(n),c=document.createElement("h4"),a(c,e.displayName),c.setAttribute("class","title"),n.appendChild(c),l=document.createElement("p"),l.setAttribute("class","job"),n.appendChild(l),u=document.createElement("span"),a(u,e.companyName),l.appendChild(u),m=document.createElement("span"),a(m,e.title),l.appendChild(m),p=document.createElement("p"),a(p,e.description),p.setAttribute("class","descript"),n.appendChild(p),v=document.createElement("div"),v.setAttribute("class","end"),d.appendChild(v),h=document.createElement("a"),h.setAttribute("class","button_blue"),a(h,"ビザスクで相談"),v.appendChild(h)}else if("Topic"===e.__class__){var t=e.imageUrl,n=void 0,m=void 0,p=void 0,f=void 0,b=void 0,g=void 0,C=void 0,E=void 0,w=void 0,y=void 0,i=void 0,A=void 0,v=void 0,h=void 0;s.setAttribute("class","item card--topic--widget"),n=document.createElement("div"),n.setAttribute("class","text"),o.appendChild(n),m=document.createElement("h4"),a(m,e.title),m.setAttribute("class","title"),n.appendChild(m),p=document.createElement("p"),a(p,e.description),p.setAttribute("class","descript"),n.appendChild(p),b=document.createElement("img"),b.setAttribute("src","https://rawgithub.com/visasq/visasq-widget/master/assets/img/yen.png"),b.setAttribute("class","price-icon"),o.appendChild(b),f=document.createElement("span"),f.setAttribute("class","price"),e.blankPrice?a(f,"問い合わせ"):a(f,e.price+" 〜"),f.setAttribute("class","price"),o.appendChild(f),g=document.createElement("div"),g.setAttribute("class","bottom"),d.appendChild(g),C=document.createElement("div"),C.setAttribute("class","liked"),g.appendChild(C),E=document.createElement("div"),E.setAttribute("class","fa fa-star"),C.appendChild(E),w=document.createElement("div"),w.setAttribute("class","like_count"),a(w,e.likes),C.appendChild(w),y=document.createElement("div"),y.setAttribute("class","divider user"),g.appendChild(y),i=document.createElement("div"),i.setAttribute("class","user-img--min"),i.setAttribute("style",'background-image:url("'+t+'")'),g.appendChild(i),A=document.createElement("div"),a(A,e.displayName),A.setAttribute("class","name"),d.appendChild(A),v=document.createElement("div"),v.setAttribute("class","end"),d.appendChild(v),h=document.createElement("a"),h.setAttribute("class","button_blue"),a(h,"ビザスクで相談"),v.appendChild(h)}}),i.style.display="block",setTimeout(function(){n(i),$(".carousel",e.body).carousel({interval:3e3})},50)}))}),o})})()}();
//# sourceMappingURL=script.js.map
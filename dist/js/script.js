"use strict";var _createClass=function(){function e(e,t){for(var i in t){var s=t[i];s.configurable=!0,s.value&&(s.writable=!0)}Object.defineProperties(e,t)}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),_classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};!function(){var e=void 0,t=void 0,i=void 0,s=void 0,n=void 0,a=void 0,d="https://service.visasq.com/",r="topics",o="users",c="api/v3/",l="https://rawgithub.com/visasq/visasq-widget/master/dist/css/styles.css",u="https://rawgithub.com/visasq/visasq-widget/master/dist/js/lib.js";a='\n<!DOCTYPE html>\n<html lang="ja">\n<head>\n<meta charset="utf-8" />\n<link rel="stylesheet" href="'+l+'">\n<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">\n<script async src="'+u+'"></script>\n</head>\n<body>\n\n<div class="card--widget">\n  <div id="carousel" class="carousel slide carousel-fade">\n    <div id="header">\n      <a class="carousel-control left" href="#carousel" data-slide="prev"><i class="fa fa-angle-left"></i></a>\n      <a href="https://service.visasq.com/" target="_blank"><img src="https://rawgithub.com/visasq/visasq-widget/v1/assets/img/logo.png" /></a>\n      <a class="carousel-control right" href="#carousel" data-slide="next"><i class="fa fa-angle-right"></i></a>\n    </div>\n    <ol id="indicators" class="carousel-indicators"></ol>\n    <!-- Carousel items -->\n    <div class="items carousel-inner" id="items"></div>\n  </div>\n</div>\n\n</body>\n</html>\n';var m=function(){function t(){_classCallCheck(this,t),this.itemContainer={}}return _createClass(t,{load:{value:function(t,i,s){var n=this;return i in this.itemContainer?void s(this.itemContainer[i]):e(""+d+c+o+"/"+t,function(a){return n.itemContainer[i]=[],n.itemContainer[i].push(new v(a.result)),e(""+d+c+o+"/"+t+"/"+r,function(e){return e.forEach(function(e){n.itemContainer[i].push(new p(e))}),s(n.itemContainer[i])})})}}}),t}(),p=function h(e){_classCallCheck(this,h),this.__class__="Topic";var t=e.id;this.title=e.title,this.description=e.description,this.blankPrice=e.blank_price,this.price=e.price,this.likes=e.likes,this.imageUrl=e.author.image_url,this.displayName=e.author.display_name,this.url=""+d+r+"/"+t},v=function f(e){_classCallCheck(this,f),this.__class__="User";var t=e.id;this.description=e.description,this.imageUrl=e.image_url,this.displayName=e.display_name,this.companyName=e.positions[0].company_name,this.title=e.positions[0].title,this.url=""+d+o+"/"+t};e=function(e,t){var i=void 0,s=void 0;if(i="get",s=new XMLHttpRequest,"withCredentials"in s)s.open(i,e,!0);else{if("undefined"==typeof XDomainRequest)throw"Failed to initialize CORSRequest";s=new XDomainRequest,s.open(i,e)}return s.onload=function(e){var e=void 0;if(e=JSON.parse(s.response),s.status<200||300<=s.status)throw e.error;return t(e)},s.send()},t=function(e,t,i){var s=void 0,n=void 0,a=void 0,d=void 0,r=void 0,o=void 0,c=void 0;for(s="*"===t&&e.all?e.all:e.getElementsByTagName(t),n=[],i=i.replace(/\-/g,"\\-"),o=new RegExp("(^|\\s)"+i+"(\\s|$)"),a=d=0,c=s.length;c>=0?c>=d:d>=c;a=c>=0?++d:--d)r=s[a],r&&o.test(r.className)&&n.push(r);return n},s=function(e){var t=void 0;return e&&(t=e.contentWindow||e.contentDocument.parentWindow,t.document.body)?e.height=t.document.documentElement.scrollHeight||t.document.body.scrollHeight:void 0},n=function(e,t){return"undefined"!=typeof e.textContent?e.textContent=t:e.innerText=t},i=function(){var e=void 0;e=t(document,"a","visasq-cards"),function(){var t=void 0,i=void 0,d=void 0,r=void 0,o=void 0,c=void 0,l=void 0,u=void 0,p=void 0,v=void 0;return o=[],e.forEach(function(e){l=e.getAttribute("data-visasq-username"),c=e.getAttribute("data-visasq-userid"),p=e.getAttribute("width"),v=e.getAttribute("color"),i=document.createElement("iframe"),i.style.display="none",i.setAttribute("frameBorder","0"),i.style.width=p,e.parentNode.appendChild(i),e.style.display="none",t=frames[frames.length-1].document,t.open(),t.write(a),t.close(),r=t.getElementById("items"),d=new m,u=t.getElementById("header"),u.style.background=v,o.push(d.load(c,l,function(e){var a=void 0,d=void 0,o=void 0;e.forEach(function(e){if(a=document.createElement("a"),a.setAttribute("target","_blank"),a.setAttribute("href",e.url),r.appendChild(a),d=document.createElement("div"),a.appendChild(d),o=document.createElement("div"),o.setAttribute("class","info"),d.appendChild(o),"User"===e.__class__){a.setAttribute("class","item active card--user--widget");var t=e.imageUrl,i=void 0,s=void 0,c=void 0,l=void 0,u=void 0,m=void 0,p=void 0,h=void 0,f=void 0;i=document.createElement("div"),i.setAttribute("class","user-img--s"),i.setAttribute("style",'background-image:url("'+t+'")'),o.appendChild(i),s=document.createElement("div"),s.setAttribute("class","text"),o.appendChild(s),c=document.createElement("h4"),n(c,e.displayName),c.setAttribute("class","title"),s.appendChild(c),l=document.createElement("p"),l.setAttribute("class","job"),s.appendChild(l),u=document.createElement("span"),n(u,e.companyName),l.appendChild(u),m=document.createElement("span"),n(m,e.title),l.appendChild(m),p=document.createElement("p"),n(p,e.description),p.setAttribute("class","descript"),s.appendChild(p),h=document.createElement("div"),h.setAttribute("class","end"),d.appendChild(h),f=document.createElement("a"),f.setAttribute("class","button"),f.style.background=v,n(f,"スポットコンサルへ"),h.appendChild(f)}else if("Topic"===e.__class__){var t=e.imageUrl,s=void 0,m=void 0,p=void 0,b=void 0,g=void 0,C=void 0,y=void 0,E=void 0,A=void 0,_=void 0,i=void 0,w=void 0,h=void 0,f=void 0;a.setAttribute("class","item card--topic--widget"),s=document.createElement("div"),s.setAttribute("class","text"),o.appendChild(s),m=document.createElement("h4"),n(m,e.title),m.setAttribute("class","title"),s.appendChild(m),p=document.createElement("p"),n(p,e.description),p.setAttribute("class","descript"),s.appendChild(p),g=document.createElement("img"),g.setAttribute("src","https://rawgithub.com/visasq/visasq-widget/v1/assets/img/yen.png"),g.setAttribute("class","price-icon"),o.appendChild(g),b=document.createElement("span"),b.setAttribute("class","price"),e.blankPrice?n(b,"問い合わせ"):n(b,e.price+" 〜"),b.setAttribute("class","price"),o.appendChild(b),C=document.createElement("div"),C.setAttribute("class","bottom"),d.appendChild(C),y=document.createElement("div"),y.setAttribute("class","liked"),C.appendChild(y),E=document.createElement("div"),E.setAttribute("class","fa fa-star"),y.appendChild(E),A=document.createElement("div"),A.setAttribute("class","like_count"),n(A,e.likes),y.appendChild(A),_=document.createElement("div"),_.setAttribute("class","divider user"),C.appendChild(_),i=document.createElement("div"),i.setAttribute("class","user-img--min"),i.setAttribute("style",'background-image:url("'+t+'")'),C.appendChild(i),w=document.createElement("div"),n(w,e.displayName),w.setAttribute("class","name"),d.appendChild(w),h=document.createElement("div"),h.setAttribute("class","end"),d.appendChild(h),f=document.createElement("a"),f.setAttribute("class","button"),f.style.background=v,n(f,"スポットコンサルへ"),h.appendChild(f)}}),i.style.display="block",setTimeout(function(){s(i),$(".carousel",t.body).carousel({interval:3e3})},50)}))}),o}()},jQuery(document).ready(function(){i()})}();
//# sourceMappingURL=script.js.map